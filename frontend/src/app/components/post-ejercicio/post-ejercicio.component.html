<app-navbar></app-navbar>

<div class="container">
    <br>
    <h3>Vista individual del ejercicio</h3>

    <div *ngIf="existeElPost" >
        <div class="ejercicio">
        <img [src]="'http://localhost:3000/uploads/' + post.enunciado_ejercicio" class="post">

        <div class="text-post">
            <div class="info">Id : {{id_post}}</div>
            <div class="info">Autor : {{ post.nombre_usuario }}</div>
            <div class="info">Fecha Publicacion : {{post.fecha_post}}</div>
        </div>
        </div>
        
        <div *ngIf="hayOficial; else noHayOficial">
            <div *ngIf="loCompre; else nolocompre">
                <h2>Solucion oficial comprada</h2>
                <img [src]="'http://localhost:3000/uploads/' + post.solucion" class="post">
            </div>
            <ng-template #nolocompre>
                <a  class="btn btn-outline-success" (click)="comprar()">Comprar solucion</a>
            </ng-template>
        </div>

        <ng-template #noHayOficial>
            <div class="caja-anuncio">
                <span class="anuncio">No hay solucion Oficial</span>
            </div>
        </ng-template>
        

        <a  class="btn btn-outline-success" *ngIf="noloRespondi; else lasolucion" (click)="subirsolucion()">Subir solucion</a>
        <div *ngIf="presionosubirsolucion">
            <form enctype="multipart/form-data">
                <input type="file"  (change)="selectedSolucion($event)"> 
                <button type="button" (click)="subir()" class="btn btn-primary">Subir solucion</button>
            </form>
        </div>


        <ng-template #lasolucion>
            <br>
            <h2>Solucion Propuesta</h2>
            <div class="ejercicio">
                <img [src]="'http://localhost:3000/uploads/' + miSolucion.id_solucion" class="post">
        
                <div class="text-post">
                    <div class="info"><span style="color: gray;">Usuario :</span>  {{ nombre }}</div>
                    <div class="info"><span style="color: gray;">Estado :</span> {{ miSolucion.respuesta }}</div>
                </div>
                </div>
        </ng-template>

        <div style="color: red;">{{respuesta}}</div>
    </div>
</div>
